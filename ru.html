<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Rubik Simple</title>
<style>
    body { font-family: Arial; text-align: center; background: #eee; }
    #cube {
        display: grid;
        grid-template-columns: repeat(12, 30px);
        gap: 2px;
        margin: 20px auto;
        width: 420px;
    }
    .cell {
        width: 30px; height: 30px;
        border: 1px solid #000;
    }
</style>
</head>
<body>

<h2>Rubik 3x3 Simple</h2>

<div id="cube"></div>

<div>
    <button onclick="move('U')">U</button>
    <button onclick="move(\"U'\")">U'</button>
    <button onclick="move('R')">R</button>
    <button onclick="move(\"R'\")">R'</button>
    <button onclick="move('F')">F</button>
    <button onclick="move(\"F'\")">F'</button>
    <button onclick="scramble()">Scramble</button>
    <button onclick="resetCube()">Reset</button>
</div>

<script>
let faces = {
    U: Array(9).fill("white"),
    R: Array(9).fill("red"),
    F: Array(9).fill("green"),
    D: Array(9).fill("yellow"),
    L: Array(9).fill("orange"),
    B: Array(9).fill("blue")
};

function draw() {
    let c = document.getElementById("cube");
    c.innerHTML = "";

    // posisi unfold rubik
    let layout = [
        ["", "", "U", "", ""],
        ["L", "F", "R", "B", ""],
        ["", "", "D", "", ""]
    ];

    for (let row of layout) {
        for (let face of row) {
            if (face === "") {
                for (let i = 0; i < 3 * 3; i++)
                    c.innerHTML += `<div class="cell" style="visibility:hidden"></div>`;
            } else {
                faces[face].forEach(color => {
                    c.innerHTML += `<div class="cell" style="background:${color}"></div>`;
                });
            }
        }
    }
}

function rotateFace(face) {
    let f = faces[face];
    faces[face] = [
        f[6], f[3], f[0],
        f[7], f[4], f[1],
        f[8], f[5], f[2]
    ];
}

function rotateFaceCounter(face) {
    let f = faces[face];
    faces[face] = [
        f[2], f[5], f[8],
        f[1], f[4], f[7],
        f[0], f[3], f[6]
    ];
}

function move(m) {
    if (m === "U") {
        rotateFace("U");
        let temp = [...faces["F"].slice(0,3)];
        faces["F"].splice(0,3, ...faces["R"].slice(0,3));
        faces["R"].splice(0,3, ...faces["B"].slice(0,3));
        faces["B"].splice(0,3, ...faces["L"].slice(0,3));
        faces["L"].splice(0,3, ...temp);
    } 
    else if (m === "U'") {
        move("U"); move("U"); move("U");
    }
    else if (m === "R") {
        rotateFace("R");
        let t = [faces.U[2], faces.U[5], faces.U[8]];
        [faces.U[2], faces.U[5], faces.U[8]] = 
            [faces.F[2], faces.F[5], faces.F[8]];
        [faces.F[2], faces.F[5], faces.F[8]] =
            [faces.D[2], faces.D[5], faces.D[8]];
        [faces.D[2], faces.D[5], faces.D[8]] =
            [faces.B[6], faces.B[3], faces.B[0]];
        [faces.B[6], faces.B[3], faces.B[0]] = t;
    }
    else if (m === "R'") {
        move("R"); move("R"); move("R");
    }
    else if (m === "F") {
        rotateFace("F");
        let t = [faces.U[6], faces.U[7], faces.U[8]];
        [faces.U[6], faces.U[7], faces.U[8]] =
            [faces.L[8], faces.L[5], faces.L[2]];
        [faces.L[8], faces.L[5], faces.L[2]] =
            [faces.D[2], faces.D[1], faces.D[0]];
        [faces.D[2], faces.D[1], faces.D[0]] =
            [faces.R[0], faces.R[3], faces.R[6]];
        [faces.R[0], faces.R[3], faces.R[6]] = t;
    }
    else if (m === "F'") {
        move("F"); move("F"); move("F");
    }

    draw();
}

function scramble() {
    const moves = ["U","U'","R","R'","F","F'"];
    for (let i = 0; i < 20; i++) {
        move(moves[Math.floor(Math.random()*moves.length)]);
    }
}

function resetCube() {
    faces = {
        U: Array(9).fill("white"),
        R: Array(9).fill("red"),
        F: Array(9).fill("green"),
        D: Array(9).fill("yellow"),
        L: Array(9).fill("orange"),
        B: Array(9).fill("blue")
    };
    draw();
}

draw();
</script>

</body>
</html>
