<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rohis Web</title>

<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet" />

<style>
:root{
  --bg:#dde8f3;
  --menu-bg:rgba(255,255,255,.75);
  --border:rgba(0,0,0,.06);
  --accent:#2563eb;
  --text:#111827;
  --muted:#6b7280;
}

.dark{
  --bg:#0f172a;
  --menu-bg:rgba(30,41,59,.7);
  --border:rgba(255,255,255,.1);
  --text:#e2e8f0;
  --muted:#94a3b8;
  --card-bg:#1e293b;
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:sans-serif;
  background:var(--bg);
  color:var(--text);
  display:flex;
  min-height:100vh;
  overflow:hidden;
}

/* ================= SIDEBAR ================= */
nav.menu{
  width:90px;
  padding:1rem;
  display:flex;
  flex-direction:column;
  gap:14px;
  align-items:center;
  background:var(--menu-bg);
  border-right:1px solid var(--border);
  backdrop-filter:blur(10px);
  transition:.3s;
}
nav.menu:hover{width:200px}

.link{
  width:60px;height:50px;
  display:flex;align-items:center;
  gap:12px;
  padding-left:10px;
  border-radius:12px;
  border:none;
  background:none;
  color:var(--muted);
  cursor:pointer;
  overflow:hidden;
  transition:.3s;
}
nav.menu:hover .link{width:170px}

.link:hover{
  background:var(--accent);
  color:#fff;
}

.link-icon{font-size:26px}
.link-title{
  white-space:nowrap;
  opacity:0;
  transition:.3s;
}
nav.menu:hover .link-title{opacity:1}

/* ================= WRAPPER ================= */
.wrapper{
  flex:1;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.page{
  flex:1;
  overflow-y:auto;
  padding:32px;
  padding-bottom:120px;
  display:none;
}
.page.active{display:block}

/* ================= HERO ================= */
.welcome-card-hero{
  background:url("https://media.istockphoto.com/id/1482432255/id/vektor/warna-latar-belakang-gradien-buram-abstrak.jpg");
  background-size:cover;
  background-position:center;
  border-radius:16px;
  padding:50px 20px;
  text-align:center;
  color:#fff;
  margin-bottom:22px;
}

/* ================= CARDS ================= */
.cards{
  display:grid;
  gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
}
.card{
  background:var(--card-bg,#fff);
  padding:18px;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,.06);
}

/* ================= COUNT ================= */
.count-wrapper{
  margin-top:20px;
  display:grid;
  gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
}
.count-card{
  background:var(--card-bg,#fff);
  padding:18px;
  border-radius:12px;
  text-align:center;
  box-shadow:0 6px 18px rgba(0,0,0,.06);
}
.count-number{
  font-size:30px;
  font-weight:700;
  color:var(--accent);
}

/* ================= BOTTOM NAV ================= */
.bottom-nav{
  position:fixed;
  left:12px;right:12px;bottom:12px;
  height:66px;
  background:#fff;
  border-radius:16px;
  display:flex;
  justify-content:space-around;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
}
.bottom-item{color:var(--muted)}
.bottom-item.active{color:var(--accent)}

@media(max-width:768px){
  nav.menu{display:none}
}
@media(min-width:769px){
  .bottom-nav{display:none}
}

/* ================= LOADING BATTERY ================= */
#loading{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#1e40af,#2563eb);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
  transition:.6s;
}
#loading.hide{
  opacity:0;
  visibility:hidden;
}

.loading-card{
  background:rgba(255,255,255,.15);
  backdrop-filter:blur(14px);
  padding:30px;
  border-radius:20px;
  text-align:center;
  color:#fff;
  width:280px;
}

.battery{
  width:200px;height:32px;
  border:3px solid #fff;
  border-radius:6px;
  margin:20px auto 10px;
  overflow:hidden;
  position:relative;
}
.battery::after{
  content:"";
  position:absolute;
  right:-10px;top:8px;
  width:8px;height:16px;
  background:#fff;
  border-radius:2px;
}
.battery-level{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#22c55e,#4ade80);
  transition:.3s;
}
</style>
</head>

<body>

<!-- LOADING -->
<div id="loading">
  <div class="loading-card">
    <h2>ROHIS WEB</h2>
    <p>Menyiapkan dashboard...</p>
    <div class="battery">
      <div class="battery-level" id="batteryLevel"></div>
    </div>
    <div id="percentText">0%</div>
  </div>
</div>

<!-- SIDEBAR -->
<nav class="menu">
  <button class="link" data-page="dashboard"><span class="link-icon material-symbols-rounded">dashboard</span><span class="link-title">Dashboard</span></button>
  <button class="link" data-page="anggota"><span class="link-icon material-symbols-rounded">groups</span><span class="link-title">Anggota</span></button>
  <button class="link" data-page="settings"><span class="link-icon material-symbols-rounded">settings</span><span class="link-title">Pengaturan</span></button>
</nav>

<div class="wrapper">

<main id="dashboard" class="page active">
  <section class="welcome-card-hero">
    <h1>Selamat Datang di ROHIS WEB</h1>
    <p>Dashboard organisasi modern</p>
  </section>

  <section class="cards">
    <div class="card">Data Anggota</div>
    <div class="card">Program Kerja</div>
    <div class="card">Laporan</div>
  </section>

  <section class="count-wrapper">
    <div class="count-card"><h3>Anggota</h3><div id="c1" class="count-number">0</div></div>
    <div class="count-card"><h3>Event</h3><div id="c2" class="count-number">0</div></div>
    <div class="count-card"><h3>Program</h3><div id="c3" class="count-number">0</div></div>
  </section>
</main>

<main id="anggota" class="page"><h1>Data Anggota</h1></main>
<main id="settings" class="page"><h1>Pengaturan</h1></main>

</div>

<script>
/* ============ PAGE SWITCH ============ */
document.querySelectorAll(".link").forEach(b=>{
  b.onclick=()=> {
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById(b.dataset.page).classList.add("active");
  }
});

/* ============ COUNT UP (SETELAH LOADING) ============ */
let loadingDone=false;
let counted=false;

function count(id,target){
  let n=0,el=document.getElementById(id);
  let i=setInterval(()=>{
    n+=target/60;
    if(n>=target){n=target;clearInterval(i)}
    el.textContent=Math.floor(n);
  },16);
}

let obs=new IntersectionObserver(e=>{
  if(e[0].isIntersecting && loadingDone && !counted){
    counted=true;
    count("c1",1500);
    count("c2",80);
    count("c3",14);
  }
},{threshold:.4});

obs.observe(document.querySelector(".count-wrapper"));

/* ============ LOADING BATTERY ============ */
window.onload=()=>{
  let p=0;
  let bar=document.getElementById("batteryLevel");
  let txt=document.getElementById("percentText");
  let l=document.getElementById("loading");

  let i=setInterval(()=>{
    p+=Math.random()*8+4;
    if(p>=100){
      p=100;
      clearInterval(i);
      setTimeout(()=>{
        l.classList.add("hide");
        loadingDone=true;
      },400);
    }
    bar.style.width=p+"%";
    txt.textContent=Math.floor(p)+"%";
  },120);
};
</script>

</body>
</html>
